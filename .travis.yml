language: java
jdk:
- oraclejdk8
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_deploy:
- export GRADLE_BUILD_DIR="build/libs"
- export TAG=$(git describe --abbrev=0 --tags)
- export MOD_TAG=${TAG#"v"}
- export RELEASE_PKG_FILE="${GRADLE_BUILD_DIR}/GEOframeUtils-${MOD_TAG}.jar"
- echo "deploying $RELEASE_PKG_FILE to GitHub releases"
- gradle -PprojVersion=$MOD_TAG -PnexusUsername="${SONATYPE_USERNAME}" -PnexusPassword="${SONATYPE_PASSWORD}"
  -PbintrayUsername="${BINTRAY_USERNAME}" -PbintrayApiKey="${BINTRAY_KEY}" -PbintrayPassphrase="${PASSPHRASE}"
  bintrayUpload
deploy:
  provider: releases
  api_key:
    secure: AZ3Ym1toWiI//pO4L9o2zria6op27mRxEwu/VRZv+AVT3dBpqhZM0yaeuA70ky0NSobIK4d+Utu3JkyuflWt+Kz4oNn7U06SIxfuz/wHdqy0zwtLqAIWIdcMWGGVGuiivhXde1cQil+wL4Jbhd12PrrE5H6BIf3HYTL+9QFRL5lH3f9puUAsSpat6WHuQFgLkg9PPPAj5J3oYmS5+cn0CHa4QiT0sYvGU2L+LuXVfBz64elVQ+yG2+3ChWXL/1z+9ygUlnQ127G6WMFYjOt0Qt2QYXH26OzujOTp1o6RYdhOorRP65QyXc0JBvl5eZahHW13EJ7Au+IUCqUoVfrHrZTlQDWyCklyRr1thwcKCl0u8VUGhe8AeEiz359n+Tf57jxi0F/Yf3y2GSpUxzIKL5cwzzEde6xwk2Hwi5m7U1vijCcnBVwGU6cwZeel5ttxp76L8162Tf5s945h9Z7d+81KujPwnts/FlwcaFXomX8FvneTPwcGKuWc7BRgghZoyUYyzQuzmzFsK543HpB1ntwY0bbROD8HrhwRGuvlID4JCOFBJ5wyZndvbfuQMr4I7HPnmNN94C2wqg9xD8jDcAC5C+fsvJ5e4Ywyj84d86qgXBRPwm1CyttUdkUunkB6JUpMNK+TR9gaXPPPGMfzQE3kz2nd3wArWcn/uvHRtv8=
  file: "${RELEASE_PKG_FILE}"
  skip_cleanup: true
  on:
    tags: true
    all_branches: true
    repo: geoframecomponents/jswmm
env:
  global:
  - secure: D+48v3bmkEcaDgISTmFx7Trru3FxlLcPNueOyMJBMXPXEQAs0Ae6JsP24fm/I7a4TbFAz6nYGezy3IvzZtdOartUHR6Ool7fxkJX6hCPTRZc5qAjTkZGDHNJYlzaqAC3xtjpnI4qqQgcbAv6TjGTubcffmxSbKRtT2jR0naziAcL4IxIJe4TQryAzbvkTF891WTKiD4dKIS+t5PuWl063MZxdtgP3FpsDyRebyADVUYz0YFukXX1Ogxw6PBkiYWyIeFA7PgNVMeO7o9ZFLBiylNrm4a9iIu44VIn6uUXjMj97FCm+L85zxEGV2mw7ZxedUqkXo6vcpeTfLXQ9VRitVgdsQOAOPLQImPo8ReY9rxdAfvYhnLAb8btJKYpPTOoSo5K06byC22ZdRJ+edKJ8iC+jFLGITYu9BGc+jpVvCwAeEW5q5LwEXL89RSypxMsezgPxeIpW5aegXx5CUouno5VPihvwKpBNiQMRAYsfmJH5OlUy6yl9vXfikOWPceRypm78imSn/maVH4nNgCLrLWC0u/8Yxa7g0VyoX8nbve80qal8vN60x/jBpCx1KtJjdPfv2mxfuSMqmLtH12ts4H9rEyWufT7IifSkDC+NJOh4Z/p7r93UuNXJTVjYeY7AWE+gkEeF/0rToeZxQjDZnl+NwS8TIK/qii4Fue+Cmw=
  - secure: qa6oCGtRllGg6hhd3JrQj/HfcG+ALZ7RcI5SbHJU7gDWRnsVuCuzogTgRJ2KtMjNb8zebRYAijgweL2oT/K/0tCbbkA0/Xlrc398EwVLISLEc4pj6C7o40y/8UMO/IMEbaKeNcURMnQi2D4qJ6EAWNLQFp1XrndGX2c5Jk/FNOTMOiDH+pY/UcFxmdSosD83SPaT2UPegAFn3LhOhyvxsdllmpdOfc4D/eeMPyW61m6hUtRCCTkB3bOD744SPA/0D/THJEWf9SdMXYK0S1qPo4FQBlNoO0Eg0lg2DJ4MnL+MmHNWzx/R6g3iDqFC5Lc9qCk6khZBByR3+VmsIVD4txJuhEGglEhALUlDq9bDj7j3+d4b9dxrSotRhvB/jpLpHtoBVw4E3PoJRrfwWMUBFra46i8MeS3AYo9ltfrULkX9J+lnT9tCZ2wkENuk2CMvVp9p5AcU37CbHkX60sCBMdISiQzUIAYZoTsaVOZH/O2yYruMD94l+e0LDSYtG/8kNRfnNDr/4ziSvIN9mlPe3J65WdtFYgBKk75+bdRiEb5z82Kfkq6R+MqMMLv2OdMUd/DXoMXQnIFuik9sRgkHWY06LKN1GO5SfLYnl0piaMUNUdbQDTs/oWAfQV9m8ECVWDOMst9oRl2mXq3HEAeCCuHly08avITDpAkGikIJzH0=
  - secure: kXca4zO10grXUAGhTT9WXhbl0FnqpMJ8woNoWe9jatO9SkON087h4V5w3/Kkqt91WPNkxyIdGZBZWb4T3G6czRj8oI1033KCcWwDVyBf54m+dK1wPJ874JrKsJ6gjCYiTWtB3HFwPaQQ84FBA+qhRcoswfdGTdxYls7K5KEWri/3tAmOumY/Q1kzdXerxinOxL+RoKYR5WIipT/X1RiIxmwqDILSj3k/8FoEnqRExVa6GpBXNgSal9QdzsGC/WltN/W+XxMY/RiIYfkrmiVifGVNMZeBvI5qiCQMTpVRCVb4E6YzLi0w8352ALyYBTS0qkYNJbzlBjqSnUf2Tnhz1rjW8+FcEEBbSlxS9Sq0wvBza+GDFuGS25WaUJlo9aJFsjAOe9hJZw43vJNZU5Rq6z1Av2Fw0+/Nl1kCVinPKdCFEYwneT0eRunUt1cD5Z5XNodPENWTXw2e8aDFY5a6fPnwzsBDDbz0ITl4d1ybhmQ+CsPYp5ZRWUyM+FS+FldyWsFnm24eXEQpnP1sGlHpfuvYp3Yt/EMepX6pV2HZei2umSnyMg808LBvo8i+FU/Ymn/xP1xajkHwS/uFlu+j82tKkZc90KooW1D3kzCN0CtDfQ0ITZTwby4GPgXIR9yhQ1m5J/4Cz3QKnM2ygFNeGIq8Tm76ktaQIPg+GfWJ0pg=
  - secure: uRzQchPXW1fLC+DUUcEXSfc9SohmNZf8US9pG6dL1F2IiVVqHleSZQSC2FALh2ilmfFiqPt3t2a6q62yj88pfKgJ9hQpn2GHZpR0dMsezVOhOixzROImgtbvAVtSMCT/XtIePRjwomISnVAEzPo8eQWaHlTGdA1VvR7AzZPdp1QHm2GT/8755GGt6SHOfnAv7tYmD7mNau+fBSdUYGhKyYXwgYNDIYoNi7cFeJ8U2NpEI1UvGLQvEEnk0LXaOuZFEhLejpxVJaOVsxAyUU0GjSJd+Co+dqaYaro1d1JVseG3TFOh307L3NtV2gYO0S0ZTQ9CKhZZQR/tArnwTvimSWf9/lWkwvLEhpfatb+FhER7Bif1EbGdb0yZar+qPa74D5lumLU0oiCTv3uh0o/C90Ddq07KmHU+xgnd5qou4NFfXhQNDU1natCZXinFNzon/sKXp2GWN4qCKYPBaTkc3/J2/0xAhwxj9RSSnPLs8J6Q6NEF/jJW+MnPL4Jsny1chG9gTkLMxE2G+wx2H2AvNanFLr6MGWDpsuz9mUY2v4sN3BBYV537zKpeG5r/ldx3jSHGWlnde4Pkdi5sS7KwkCMW/RMzsydjI2+5O7Bb/W68+E0O6RzN9oV5qZMo7AnMqf4G/D0Vg5A4Cv+geMMmSZOQSbKHTwGuWpxdZfMGlWA=
  - secure: qx+8aqAwe/zi0P4+kO5Hp0KfLpBt5bLryp6lIAfnv6MTrYaDP/ut0yBNZyaJmbX7CoymNFFxvr6bdVwxFyu2uy4OBn0U+nYCcDQzmDrRovci9bjvLdJkWUYC8diTB9VotpT6KmIK/TVUBDB6gxU7MrYE3gRH8ArtHKjRunL7dKT30dhCf468XFIa2Zvze1CheUbfPDI0yvn09FbuuH329EFy//L7RoqMVDESIglr9hSlALLe5pgNRMoZ4hdwldqCAMdSnI5uBgUi2O0Ir4gI5exnAhAfhr/6nwl4xjMcbrkHwJUkYQSYfXaSiRaGe0WKBaaKTEZUdg0g2+4LlKfSn670HJeZMfPLi8ZQVQLMbfcPXLsZi0VeqaTVkIetTKdTWhgTFRJ1UyeeBycv5TuI9PkOjPobfEpT+xS4A9O+HfweiiJWzLn98JBwl8ZBpTFWcCh7gNXr8Hcpub9F5bZqE9aA2G6tltgu/0qigKtirAqk9/4OISCoqEGODJMsV8D+xKG6FcPpSGkAksb4w/BWAZ82VhRLkfV+Ey6+mp08/+FPwNSNdPbvMlyQ+6fw/k9p5P8uSbdU3a9am8h59M9crzVh56cxN9YOyCIK16K/0oe+ILiW4b6mwlcVuTUvu/tckYhRyfxh/RVx36pXALtLnb/8unQviB0Um3XuIq2QuEU=
